metadata={systemName:"JSONPlaceholder",displayName:"JSONPlaceholder Broker",description:"Sample broker for JSONPlaceholder",configuration:{ServiceURL:{displayName:"JSONPlaceholder Service URL",type:"string",value:"https://jsonplaceholder.typicode.com/"}}},ondescribe=async function({configuration:e}){postSchema({objects:{posts:{displayName:"Posts",description:"Manages Posts",properties:{id:{displayName:"ID",type:"number"},userId:{displayName:"User ID",type:"number"},title:{displayName:"Title",type:"string"},body:{displayName:"Body",type:"string"}},methods:{getList:{displayName:"Get Posts List",type:"list",outputs:["id","userId","title","body"]},getById:{displayName:"Get Post By ID",type:"read",inputs:["id"],requiredInputs:["id"],outputs:["id","userId","title","body"]},getByUserId:{displayName:"Get Posts By User ID",type:"list",inputs:["userId"],requiredInputs:["userId"],outputs:["id","userId","title","body"]},create:{displayName:"Create Post",type:"create",inputs:["userId","title","body"],outputs:["id","userId","title","body"]},update:{displayName:"Update Post",type:"update",inputs:["id","userId","title","body"],requiredInputs:["id"],outputs:["id","userId","title","body"]},delete:{displayName:"Delete Post",type:"delete",inputs:["id"],requiredInputs:["id"]}}}}})},onexecute=async function({objectName:e,methodName:t,parameters:s,properties:r,configuration:i}){switch(e){case"posts":await async function(e,t,s,r){switch(e){case"getList":await function(e,t,s){return new Promise((e,t)=>{var r=s.ServiceURL+"posts/",i=new XMLHttpRequest;i.onreadystatechange=function(){try{if(4!==i.readyState)return;if(200!==i.status)throw new Error("Failed with status "+i.status);var s=JSON.parse(i.responseText);postResult(s.map(e=>({id:e.id,userId:e.userId,title:e.title,body:e.body}))),e()}catch(e){t(e)}},i.open("GET",r),i.send()})}(0,0,r);break;case"getById":await function(e,t,s){return new Promise((e,r)=>{var i=s.ServiceURL+"posts/",o=new XMLHttpRequest;if(o.onreadystatechange=function(){try{if(4!==o.readyState)return;if(200!==o.status)throw new Error("Failed with status "+o.status);var t=JSON.parse(o.responseText);postResult({id:t.id,userId:t.userId,title:t.title,body:t.body}),e()}catch(e){r(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');o.open("GET",i+encodeURIComponent(t.id)),o.send()})}(0,s,r);break;case"getByUserId":await function(e,t,s){return new Promise((e,r)=>{var i=s.ServiceURL+"posts?userId=",o=new XMLHttpRequest;if(o.onreadystatechange=function(){try{if(4!==o.readyState)return;if(200!==o.status)throw new Error("Failed with status "+o.status);var t=JSON.parse(o.responseText);postResult(t.map(e=>({id:e.id,userId:e.userId,title:e.title,body:e.body}))),e()}catch(e){r(e)}},"number"!=typeof t.userId)throw new Error('properties["userId"] is not of type number');o.open("GET",i+encodeURIComponent(t.userId)),o.send()})}(0,s,r);break;case"create":await function(e,t,s){return new Promise((e,r)=>{var i=s.ServiceURL+"posts/",o=JSON.stringify({userId:t.userId,title:t.title,body:t.body}),a=new XMLHttpRequest;a.onreadystatechange=function(){try{if(4!==a.readyState)return;if(201!==a.status)throw new Error("Failed with status "+a.status);var t=JSON.parse(a.responseText);postResult({id:t.id,userId:t.userId,title:t.title,body:t.body}),e()}catch(e){r(e)}},a.open("POST",i),a.setRequestHeader("Content-Type","application/json"),a.send(o)})}(0,s,r);break;case"update":await function(e,t,s){return new Promise((e,r)=>{var i=s.ServiceURL+"posts/",o=JSON.stringify({userId:t.userId,title:t.title,body:t.body}),a=new XMLHttpRequest;if(a.onreadystatechange=function(){try{if(4!==a.readyState)return;if(200!==a.status)throw new Error("Failed with status "+a.status);var t=JSON.parse(a.responseText);postResult({id:t.id,userId:t.userId,title:t.title,body:t.body}),e()}catch(e){r(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');a.open("PUT",i+encodeURIComponent(t.id)),a.setRequestHeader("Content-Type","application/json"),a.send(o)})}(0,s,r);break;case"delete":await function(e,t,s){return new Promise((e,r)=>{var i=s.ServiceURL,o=new XMLHttpRequest;if(o.onreadystatechange=function(){try{if(4!==o.readyState)return;if(200!==o.status)throw new Error("Failed with status "+o.status);e()}catch(e){r(e)}},"number"!=typeof t.id)throw new Error('properties["id"] is not of type number');o.open("DELETE",i+"posts/"+encodeURIComponent(t.id)),o.setRequestHeader("Content-Type","application/json"),o.send()})}(0,s,r);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,r,i);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
